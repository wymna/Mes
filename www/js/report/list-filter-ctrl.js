angular.module("mes").controller("ListFilterCtrl",["$scope","$rootScope","CallbackService","CallbackHelperService","$location","ListFilterService",function(e,t,r,n,o,i){var c=r.getCallback(o.url()),l=function(e,t,r){function o(t){i.set(e,t)}r=r||{};var c=_.extend({selected:i.get(e),purpose:"filter"},r);n.goAndReturn(c,t,o)};e.filterCount=function(e){return i.count(e)},e.setProperties=function(){function e(e){i.setProperties(e)}var t={selected:i.getProperties(),purpose:"filter"};n.goAndReturn(t,"postproperties",e)},e.setCampaigns=function(){var e="campaigns";l(e,e,{singleSelect:!1})},e.setTags=function(){var e="tags";l(e,e)},e.goBack=function(){e.filters=i.load(),c.reject()},e.submit=function(){i.hasChanged()?c.resolve(i.save()):c.reject()},e.reset=function(){i.resetLocal()},e.isFiltered=function(){return i.isFiltered()}}]);
